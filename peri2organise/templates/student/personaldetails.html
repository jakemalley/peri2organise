{% extends '__layout__.html' %}
{% block title %}Personal Details{% endblock %}
{% block navbar %}
    {% include 'student/navbar.html' %}
{% endblock %}
{% block breadcrumbs %}
    <li><a href="{{url_for('student.dashboard')}}">Student Dashboard</a></li>
    <li class="active">Personal Details</li>
{% endblock %}
{% block pills %}
    {% include 'student/pills.html' %}
{% endblock %}
{% block content %}
    <div class="page-header">
      <h1>Student <small>personal details</small></h1>
    </div>
    <form class="form-horizontal" role="form" method="post" action="">
    {{ update_personal_details_form.csrf_token }}

    <div class="form-group">
        <label for="input_student_first_name" class="col-sm-2 control-label">Update Details</label>
        <div class="col-sm-10">
            {{update_personal_details_form.update_details(id='update_details')}}
            {% for error in update_personal_details_form.update_details.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_student_first_name" class="col-sm-2 control-label">Student's First Name</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.student_first_name(class="form-control",id="input_student_first_name", value=personal_details['first_name']) }}
            {% for error in update_personal_details_form.student_first_name.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_student_last_name" class="col-sm-2 control-label">Student's Last Name</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.student_last_name(class="form-control",id="input_student_last_name", value=personal_details['last_name']) }}
            {% for error in update_personal_details_form.student_last_name.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_student_email_address" class="col-sm-2 control-label">Student's Email Address</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.student_email_address(class="form-control",id="input_student_email_address",value=personal_details['email_address']) }}
            {% for error in update_personal_details_form.student_email_address.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_student_tutor_group" class="col-sm-2 control-label">Student's Tutor Group</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.student_tutor_group(class="form-control",id="input_student_tutor_group",value=personal_details['tutor_group']) }}
            {% for error in update_personal_details_form.student_tutor_group.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_musical_instrument_type" class="col-sm-2 control-label">Musical Instrument Type</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.musical_instrument_type(class="form-control",id="input_musical_instrument_type",default="Singing") }}
            {% for error in update_personal_details_form.musical_instrument_type.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_musical_instrument" class="col-sm-2 control-label">Musical Instrument</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.musical_instrument(class="form-control",id="input_musical_instrument", value=personal_details['musical_instrument']) }}
            {% for error in update_personal_details_form.musical_instrument.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_musical_style" class="col-sm-2 control-label">Musical Style</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.musical_style(class="form-control",id="input_musical_style") }}
            {% for error in update_personal_details_form.musical_style.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <label for="input_musical_grade" class="col-sm-2 control-label">Musical Grade</label>
        <div class="col-sm-10">
            {{ update_personal_details_form.musical_grade(class="form-control",id="input_musical_grade") }}
            {% for error in update_personal_details_form.musical_grade.errors %}
            <p>
                <span class="glyphicon glyphicon-exclamation-sign" style="color:#bb321f;" aria-hidden="true"></span>
                {{ error }}
            </p>
            {% endfor %}
        </div>
    </div>

    <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
            <button type="submit" class="btn btn-default" id="submit_button">Update Details</button>
        </div>
    </div>
</form>
{% endblock %}
{% block script %}
<script type='text/javascript'>
$('input:text').attr('disabled', true)
$('select').attr('disabled', true)
$('#submit_button').attr('disabled', true)
$('#update_details').click(function(){
    $('input:text').attr('disabled', !this.checked)
    $('select').attr('disabled', !this.checked)
    $('#submit_button').attr('disabled', !this.checked)
});
</script>
{% endblock %}